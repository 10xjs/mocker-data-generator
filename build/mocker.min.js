!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("chance"),require("faker"),require("immutable")):"function"==typeof define&&define.amd?define(["chance","faker","immutable"],t):"object"==typeof exports?exports.MockerData=t(require("chance"),require("faker"),require("immutable")):e.MockerData=t(e.chance,e.faker,e.immutable)}(this,function(__WEBPACK_EXTERNAL_MODULE_2__,__WEBPACK_EXTERNAL_MODULE_3__,__WEBPACK_EXTERNAL_MODULE_4__){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),o=n(i),a=function(e){return new o["default"](e)};t["default"]=a,e.exports=t["default"]},function(e,t,r){var n=r(2),i=new n,o=r(3),a=r(4),s=r(5),c=r(6),u=r(7),f=function(){function e(e){this.data={},this.entity={},this.initialData=null,this.path=[],this.config=a.fromJS(e)}return e.prototype.generate=function(e,t){var r=this,n=[],i=c["default"](e);return this.data[i]=[],this.initialData={},new Promise(function(o,a){var c=function(){r.data[i]=n,o(r.data)};try{if(Number.isInteger(t))s.repeatFN(t,function(t){var i=r.config.toJS();s.iamLastParent(i[e])?r.generator(i[e],function(e){n.push(e),t()}):r.generateEntity(i[e],function(e){n.push(e),t()})},c);else{var u,f=r.config.toJS(),l=t.uniqueField;u="."===l?f[e].values:f[e][l].values;u.length;s.eachSeries(u,function(t,i){var o=r.config.toJS();return"."===l?(n.push(t),i()):(o[e][l]={"static":t},void r.generateEntity(o[e],function(e){n.push(e),i()}))},c)}}catch(h){console.log("Exception: mocker-data-generator"),console.log("Error generating "+i+" : "+h),a(h)}})},e.prototype.generateEntity=function(e,t){var r=this;this.entity=Object.assign({},e),u.eachLvl(this.entity,function(e,t,n){r.generator(n,function(n){if(s.isConditional(t)){var i=t.split(",");s.evalWithContextData(i[0],r.entity)?(e[i[1]]=n,delete e[t]):delete e[t]}else e[t]=n})}),t(this.entity)},e.prototype.generator=function(e,t){t(s.isArray(e)?this.generateArrayField(e[0],e[1]):this.generateNormalField(e))},e.prototype.generateArrayField=function(e,t){for(var r=[],n=s.fieldArrayCalcLength(t),i=0;n>i;i++)r.push(this.generateNormalField(e));return r},e.prototype.generateNormalField=function(e){var t=this.entity,r=this.data;return e.faker?s.stringToFn("faker",e.faker,r,t,o,i):e.chance?s.stringToFn("chance",e.chance,r,t,o,i):e.values?o.random.arrayElement(e.values):e["function"]?e["function"].call({object:t,faker:o,chance:i,db:r}):e["static"]?e["static"]:null},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=f},function(e,t){e.exports=require("chance")},function(e,t){e.exports=require("faker")},function(e,t){e.exports=require("immutable")},function(module,exports){var floor=Math.floor,keys=Object.keys;exports.evalWithContextData=function(key,object){return eval(key)},exports.fieldArrayCalcLength=function(e){var t;return t=e.fixedLength?e.length:Math.floor(Math.random()*e.length+1)},exports.stringToFn=function(moduleName,string,db,object,faker,chance){var re=/(^[a-zA-Z.]*)/,matches=re.exec(string),strFn;return matches&&2===matches.length&&(strFn=moduleName+"."+string),re=/\((.*?)\)/,matches=re.exec(string),matches||(strFn=moduleName+"."+string+"()"),eval(strFn)},exports.iamLastParent=function(e){var t=!1;if(this.isObject(e))for(var r=Object.keys(e),n=0;n<r.length;n++){var i=r[n];if(t=this.iamLastChild(e,i),!t)break}else t=!0;return t},exports.iamLastChild=function(e,t){return this.isObject(e[t])?!1:!0},exports.isConditional=function(e){var t=e.split(",");return t.length>1?!0:!1},exports.repeatFN=function(e,t,r){var n=0,i=function(){t(function(){n+=1,n>=e?r():i()})};i()},exports.eachSeries=function(e,t,r){if(r=r||function(){},!e.length)return r();var n=0,i=function(){t(e[n],function(t){t?(r(t),r=function(){}):(n+=1,n>=e.length?r():i())})};i()},exports.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)?!0:!1},exports.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)?!0:!1},exports.getKeys=function(e){var t=keys(e);return this.isArray(e)||(t=this.isArrayLike(e)?t.filter(function(e){return floor(Number(e))==e}):t.sort()),t},exports.isArrayLike=function(e){if(!this.isObject(e))return!1;if(this.isGlobalObject(e))return!1;if(!("length"in e))return!1;var t=e.length;return 0===t?!0:t-1 in e};var GLOBAL_OBJECT=new Function("return this")();exports.isGlobalObject=function(e){return e===GLOBAL_OBJECT}},function(e,t){function r(e){var t={"(quiz)$":"$1zes","^(ox)$":"$1en","([m|l])ouse$":"$1ice","(matr|vert|ind)ix|ex$":"$1ices","(x|ch|ss|sh)$":"$1es","([^aeiouy]|qu)y$":"$1ies","(hive)$":"$1s","(?:([^f])fe|([lr])f)$":"$1$2ves","(shea|lea|loa|thie)f$":"$1ves",sis$:"ses","([ti])um$":"$1a","(tomat|potat|ech|her|vet)o$":"$1oes","(bu)s$":"$1ses","(alias)$":"$1es","(octop)us$":"$1i","(ax|test)is$":"$1es","(us)$":"$1es",s$:"s"},r={move:"moves",foot:"feet",goose:"geese",sex:"sexes",child:"children",man:"men",tooth:"teeth",person:"people"},n=["sheep","fish","deer","series","species","money","rice","information","equipment"];if(n.indexOf(e.toLowerCase())>=0)return e;for(var i in r){var o=new RegExp(i+"$","i"),a=r[i];if(o.test(e))return e.replace(o,a)}var s=t;for(var c in s){var o=new RegExp(c,"i");if(o.test(e))return e.replace(o,s[c])}return e+"s"}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},function(e,t,r){var n=r(5);t.eachLvl=function(e,r,i){i||(i=[]),e&&Object.keys(e).forEach(function(o){var a=e[o];if(n.iamLastParent(a))r(e,o,a);else{var s=i.slice(0);s.push(o),t.eachLvl(a,r,s)}})}}])});