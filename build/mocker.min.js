!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("faker"),require("chance"),require("immutable"),require("extend"),require("babel-polyfill")):"function"==typeof define&&define.amd?define(["faker","chance","immutable","extend","babel-polyfill"],t):"object"==typeof exports?exports.MockerData=t(require("faker"),require("chance"),require("immutable"),require("extend"),require("babel-polyfill")):e.MockerData=t(e.faker,e.chance,e.immutable,e.extend,e["babel-polyfill"])}(this,function(__WEBPACK_EXTERNAL_MODULE_3__,__WEBPACK_EXTERNAL_MODULE_4__,__WEBPACK_EXTERNAL_MODULE_8__,__WEBPACK_EXTERNAL_MODULE_9__,__WEBPACK_EXTERNAL_MODULE_10__){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=r(1),a=n(i);r(10);var o=function(e,t){return new a["default"](e,t)};e.exports=o},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=r(2),s=i(u),c=r(5),l=n(c),f=r(6),h=n(f),p=r(7),d=i(p),v=r(8),b=r(3),m=r(4),y=r(9),g=new m,x=function(){function e(t,r){a(this,e),this.generalOptions={pluralizeOutputEntity:!1},this.data={},this.entity={},this.initialData=null,this.path=[],this.virtual=!1,this.virtualPaths=[],this.entityOutputName="",this.entityName="",this.config=v.fromJS(t),r=r?r:{},this.generalOptions=y({},this.generalOptions,r)}return o(e,[{key:"generate",value:function(e,t){var r=this;this.entityName=e,this.initialData={};var n=void 0;return n=this.generalOptions.pluralizeOutputEntity?(0,l["default"])(e):e,this.entityOutputName=n,this.data[n]=[],new Promise(function(n,i){var a=function(){n(r.data)};try{Number.isInteger(t)?s.repeatFN(t,function(t){var n=r.config.toJS();s.iamLastParent(n[e])?r.generator(n[e],function(e){r.data[r.entityOutputName].push(e),t()}):r.generateEntity(n[e],function(e){r.data[r.entityOutputName].push(e),t()})},a):!function(){var n=r.config.toJS(),i=t.uniqueField,o=void 0;o="."===i?n[e].values:n[e][i].values;o.length;s.eachSeries(o,function(t,n){var a=r.config.toJS();return"."===i?(r.data[r.entityOutputName].push(t),n()):(a[e][i]={"static":t},void r.generateEntity(a[e],function(e){r.data[r.entityOutputName].push(e),n()}))},a)}()}catch(o){console.log("Exception: mocker-data-generator"),console.log("Error generating "+r.entityOutputName+" : "+o),console.log(o.stack),i(o)}})}},{key:"generateEntity",value:function(e,t){var r=this;this.entity=Object.assign({},e);for(var n=function(e,t,n,i){return i&&(s.isArray(n)?n[0].virtual&&r.virtualPaths.push(i.toString()):n.virtual&&r.virtualPaths.push(i.toString())),new Promise(function(i,a){r.generator(n,function(n){if(s.isConditional(t)){var a=t.split(",");s.evalWithContextData(a[0],r.entity)?(e[a[1]]=n,delete e[t]):delete e[t]}else e[t]=n;i(n)})})},i=d.it(this.entity),a={done:!1,value:{obj:{},k:"",value:"",path:[]}};a.value&&(a=i.next(),a.value);){var o=a.value,u=o.obj,c=o.k,l=o.value,f=o.path;n(u,c,l,f).then()}this.virtualPaths.length>0?(0,h["default"])(this.virtualPaths,this.entity,{strict:!0,symbol:","}).then(t):t(this.entity)}},{key:"generator",value:function(e,t){if(s.isArray(e)){for(var r=e[0],n=[],i=s.fieldArrayCalcLength(r),a=0;i>a;a++)n.push(this.generateNormalField(r));t(n)}else t(this.generateNormalField(e))}},{key:"generateNormalField",value:function(e){var t=this.entity,r=this.data;if(e.faker)return s.stringToFn("faker",e.faker,r,t);if(e.chance)return s.stringToFn("chance",e.chance,r,t);if(e.values)return b.random.arrayElement(e.values);if(e["function"])return e["function"].call({object:t,faker:b,chance:g,db:r});if(e["static"])return e["static"];if(e.hasOwnProperty("incrementalId")){var n=0;return r[this.entityOutputName]&&r[this.entityOutputName].length&&(n=r[this.entityOutputName].length),e.incrementalId===!0&&(e.incrementalId=0),n+parseInt(e.incrementalId)}return null}}]),e}();t["default"]=x},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var faker=__webpack_require__(3),Chance=__webpack_require__(4),chance=new Chance,_Math=Math,floor=_Math.floor,_Object=Object,keys=_Object.keys,evalWithContextData=exports.evalWithContextData=function evalWithContextData(key,object){return eval(key)},fieldArrayCalcLength=exports.fieldArrayCalcLength=function(e){var t=void 0;return t=e.fixedLength?e.length:Math.floor(Math.random()*e.length+1)},stringToFn=exports.stringToFn=function stringToFn(moduleName,string,db,object){var re=/(^[a-zA-Z.]*)/,matches=re.exec(string),strFn=void 0;return matches&&2===matches.length&&(strFn=moduleName+"."+string),re=/\((.*?)\)/,matches=re.exec(string),matches||(strFn=moduleName+"."+string+"()"),eval(strFn)},iamLastParent=exports.iamLastParent=function(e){var t=!1;if(this.isObject(e))for(var r=Object.keys(e),n=0;n<r.length;n++){var i=r[n];if(t=this.iamLastChild(e,i),!t)break}else t=!0;return t},iamLastChild=exports.iamLastChild=function(e,t){return this.isObject(e[t])?!1:!0},isConditional=exports.isConditional=function(e){var t=e.split(",");return t.length>1?!0:!1},repeatFN=exports.repeatFN=function(e,t,r){var n=0,i=function a(){t(function(){n+=1,n>=e?r():n%2e3==0?setTimeout(a,0):a()})};i()},eachSeries=exports.eachSeries=function(e,t,r){if(r=r||function(){},!e.length)return r();var n=0,i=function a(){t(e[n],function(t){t?(r(t),r=function(){}):(n+=1,n>=e.length?r():a())})};i()},isArray=exports.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)?!0:!1},isObject=exports.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)?!0:!1},getKeys=exports.getKeys=function(e){var t=keys(e);return this.isArray(e)||(t=this.isArrayLike(e)?t.filter(function(e){return floor(Number(e))==e}):t.sort()),t},isArrayLike=exports.isArrayLike=function(e){if(!this.isObject(e))return!1;if(this.isGlobalObject(e))return!1;if(!("length"in e))return!1;var t=e.length;return 0===t?!0:t-1 in e},GLOBAL_OBJECT=new Function("return this")(),isGlobalObject=exports.isGlobalObject=function(e){return e===GLOBAL_OBJECT}},function(e,t){e.exports=require("faker")},function(e,t){e.exports=require("chance")},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t={"(quiz)$":"$1zes","^(ox)$":"$1en","([m|l])ouse$":"$1ice","(matr|vert|ind)ix|ex$":"$1ices","(x|ch|ss|sh)$":"$1es","([^aeiouy]|qu)y$":"$1ies","(hive)$":"$1s","(?:([^f])fe|([lr])f)$":"$1$2ves","(shea|lea|loa|thie)f$":"$1ves",sis$:"ses","([ti])um$":"$1a","(tomat|potat|ech|her|vet)o$":"$1oes","(bu)s$":"$1ses","(alias)$":"$1es","(octop)us$":"$1i","(ax|test)is$":"$1es","(us)$":"$1es",s$:"s"},r={move:"moves",foot:"feet",goose:"geese",sex:"sexes",child:"children",man:"men",tooth:"teeth",person:"people"},n=["sheep","fish","deer","series","species","money","rice","information","equipment"];if(n.indexOf(e.toLowerCase())>=0)return e;for(var i in r){var a=new RegExp(i+"$","i"),o=r[i];if(a.test(e))return e.replace(a,o)}var u=t;for(var s in u){var a=new RegExp(s,"i");if(a.test(e))return e.replace(a,u[s])}return e+"s"}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t,r){return new Promise(function(n){var i=regeneratorRuntime.mark(function d(e,t,r){var n,i,a,o;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(n=e.split(r.symbol),i=t,n&&0!==n.length){u.next=4;break}return u.abrupt("return");case 4:if(t){u.next=6;break}return u.abrupt("return");case 6:a=0;case 7:if(!(a<n.length)){u.next=19;break}if(o=n[a],a!==n.length-1||!i[o]){u.next=15;break}if(!(Object.getOwnPropertyNames(i[o]).length<1)){u.next=13;break}return delete i[o],u.abrupt("break",19);case 13:u.next=16;break;case 15:i=i[o];case 16:a++,u.next=7;break;case 19:if(n.pop(),!(n.length>0)){u.next=24;break}return u.delegateYield(d(n.join(r.symbol),t,r),"t0",22);case 22:u.next=25;break;case 24:return u.abrupt("return");case 25:case"end":return u.stop()}},d,this)}),a=regeneratorRuntime.mark(function v(e,t,r){var n,a,o,u;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:n=e.split(r.symbol),a=t,o=0;case 3:if(!(o<n.length)){s.next=14;break}if(u=n[o],o!==n.length-1){s.next=10;break}return delete a[u],s.delegateYield(i(e,t,r),"t0",8);case 8:s.next=11;break;case 10:a=a[u];case 11:o++,s.next=3;break;case 14:case"end":return s.stop()}},v,this)}),o=regeneratorRuntime.mark(function b(e,t,r){var n,i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:n=0;case 1:if(!(n<e.length)){o.next=7;break}return i=e[n],o.delegateYield(a(i,t,r),"t0",4);case 4:n++,o.next=1;break;case 7:case"end":return o.stop()}},b,this)}),u=o(e,t,r),s=!0,c=!1,l=void 0;try{for(var f,h=u[Symbol.iterator]();!(s=(f=h.next()).done);s=!0){f.value}}catch(p){c=!0,l=p}finally{try{!s&&h["return"]&&h["return"]()}finally{if(c)throw l}}n(t)})}},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.it=void 0;var i=r(2),a=n(i);t.it=regeneratorRuntime.mark(function o(e,t){var r,n,i,u,s,c;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(e){l.next=2;break}return l.abrupt("return");case 2:t||(t=[]),r=Object.keys(e),n=0;case 5:if(!(n<r.length)){l.next=21;break}if(i=r[n],u=e[i],s=t.slice(0),s.push(i),!a.iamLastParent(u)){l.next=15;break}return l.next=13,{obj:e,k:i,value:u,path:s};case 13:l.next=18;break;case 15:return c=t.slice(0),c.push(i),l.delegateYield(o(u,c),"t0",18);case 18:n++,l.next=5;break;case 21:case"end":return l.stop()}},o,this)})},function(e,t){e.exports=require("immutable")},function(e,t){e.exports=require("extend")},function(e,t){e.exports=require("babel-polyfill")}])});