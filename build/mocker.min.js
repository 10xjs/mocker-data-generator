!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("immutable"),require("faker"),require("chance"),require("babel-polyfill")):"function"==typeof define&&define.amd?define(["immutable","faker","chance","babel-polyfill"],t):"object"==typeof exports?exports.MockerData=t(require("immutable"),require("faker"),require("chance"),require("babel-polyfill")):e.MockerData=t(e.immutable,e.faker,e.chance,e["babel-polyfill"])}(this,function(__WEBPACK_EXTERNAL_MODULE_5__,__WEBPACK_EXTERNAL_MODULE_6__,__WEBPACK_EXTERNAL_MODULE_7__,__WEBPACK_EXTERNAL_MODULE_8__){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),a=n(i);r(8);var o=function(e){return new a["default"](e)};t["default"]=o},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(2),u=i(s),c=r(3),l=n(c),f=r(4),h=i(f),p=r(5),d=r(6),v=r(7),y=new v,m=function(){function e(t){a(this,e),this.data={},this.entity={},this.initialData=null,this.path=[],this.entityOutputName="",this.entityName="",this.config=p.fromJS(t)}return o(e,[{key:"generate",value:function(e,t){var r=this,n=(0,l["default"])(e);return this.entityOutputName=n,this.entityName=e,this.data[n]=[],this.initialData={},new Promise(function(i,a){var o=function(){i(r.data)};try{Number.isInteger(t)?u.repeatFN(t,function(t){var n=r.config.toJS();u.iamLastParent(n[e])?r.generator(n[e],function(e){r.data[r.entityOutputName].push(e),t()}):r.generateEntity(n[e],function(e){r.data[r.entityOutputName].push(e),t()})},o):!function(){var n=r.config.toJS(),i=t.uniqueField,a=void 0;a="."===i?n[e].values:n[e][i].values;a.length;u.eachSeries(a,function(t,n){var a=r.config.toJS();return"."===i?(r.data[r.entityOutputName].push(t),n()):(a[e][i]={"static":t},void r.generateEntity(a[e],function(e){r.data[r.entityOutputName].push(e),n()}))},o)}()}catch(s){console.log("Exception: mocker-data-generator"),console.log("Error generating "+n+" : "+s),console.log(s.stack),a(s)}})}},{key:"generateEntity",value:function(e,t){var r=this;this.entity=Object.assign({},e),h.eachLvl(this.entity,function(e,t,n){r.generator(n,function(n){if(u.isConditional(t)){var i=t.split(",");u.evalWithContextData(i[0],r.entity)?(e[i[1]]=n,delete e[t]):delete e[t]}else e[t]=n})}),t(this.entity)}},{key:"generator",value:function(e,t){t(u.isArray(e)?this.generateArrayField(e[0],e[1]):this.generateNormalField(e))}},{key:"generateArrayField",value:function(e,t){for(var r=[],n=u.fieldArrayCalcLength(t),i=0;n>i;i++)r.push(this.generateNormalField(e));return r}},{key:"generateNormalField",value:function(e){var t=this.entity,r=this.data;return e.faker?u.stringToFn("faker",e.faker,r,t,d,y):e.chance?u.stringToFn("chance",e.chance,r,t,d,y):e.values?d.random.arrayElement(e.values):e["function"]?e["function"].call({object:t,faker:d,chance:y,db:r}):e["static"]?e["static"]:e.hasOwnProperty("incrementalId")?parseInt(r[this.entityOutputName].length)+parseInt(e.incrementalId):null}}]),e}();t["default"]=m},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _Math=Math,floor=_Math.floor,_Object=Object,keys=_Object.keys,evalWithContextData=exports.evalWithContextData=function evalWithContextData(key,object){return eval(key)},fieldArrayCalcLength=exports.fieldArrayCalcLength=function(e){var t=void 0;return t=e.fixedLength?e.length:Math.floor(Math.random()*e.length+1)},stringToFn=exports.stringToFn=function stringToFn(moduleName,string,db,object,faker,chance){var re=/(^[a-zA-Z.]*)/,matches=re.exec(string),strFn=void 0;return matches&&2===matches.length&&(strFn=moduleName+"."+string),re=/\((.*?)\)/,matches=re.exec(string),matches||(strFn=moduleName+"."+string+"()"),eval(strFn)},iamLastParent=exports.iamLastParent=function(e){var t=!1;if(this.isObject(e))for(var r=Object.keys(e),n=0;n<r.length;n++){var i=r[n];if(t=this.iamLastChild(e,i),!t)break}else t=!0;return t},iamLastChild=exports.iamLastChild=function(e,t){return this.isObject(e[t])?!1:!0},isConditional=exports.isConditional=function(e){var t=e.split(",");return t.length>1?!0:!1},repeatFN=exports.repeatFN=function(e,t,r){var n=0,i=function a(){t(function(){n+=1,n>=e?r():n%2e3==0?setTimeout(a,0):a()})};i()},eachSeries=exports.eachSeries=function(e,t,r){if(r=r||function(){},!e.length)return r();var n=0,i=function a(){t(e[n],function(t){t?(r(t),r=function(){}):(n+=1,n>=e.length?r():a())})};i()},isArray=exports.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)?!0:!1},isObject=exports.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)?!0:!1},getKeys=exports.getKeys=function(e){var t=keys(e);return this.isArray(e)||(t=this.isArrayLike(e)?t.filter(function(e){return floor(Number(e))==e}):t.sort()),t},isArrayLike=exports.isArrayLike=function(e){if(!this.isObject(e))return!1;if(this.isGlobalObject(e))return!1;if(!("length"in e))return!1;var t=e.length;return 0===t?!0:t-1 in e},GLOBAL_OBJECT=new Function("return this")(),isGlobalObject=exports.isGlobalObject=function(e){return e===GLOBAL_OBJECT}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t={"(quiz)$":"$1zes","^(ox)$":"$1en","([m|l])ouse$":"$1ice","(matr|vert|ind)ix|ex$":"$1ices","(x|ch|ss|sh)$":"$1es","([^aeiouy]|qu)y$":"$1ies","(hive)$":"$1s","(?:([^f])fe|([lr])f)$":"$1$2ves","(shea|lea|loa|thie)f$":"$1ves",sis$:"ses","([ti])um$":"$1a","(tomat|potat|ech|her|vet)o$":"$1oes","(bu)s$":"$1ses","(alias)$":"$1es","(octop)us$":"$1i","(ax|test)is$":"$1es","(us)$":"$1es",s$:"s"},r={move:"moves",foot:"feet",goose:"geese",sex:"sexes",child:"children",man:"men",tooth:"teeth",person:"people"},n=["sheep","fish","deer","series","species","money","rice","information","equipment"];if(n.indexOf(e.toLowerCase())>=0)return e;for(var i in r){var a=new RegExp(i+"$","i"),o=r[i];if(a.test(e))return e.replace(a,o)}var s=t;for(var u in s){var a=new RegExp(u,"i");if(a.test(e))return e.replace(a,s[u])}return e+"s"}},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.eachLvl=void 0;var i=r(2),a=n(i);t.eachLvl=function o(e,t,r){r||(r=[]),e&&Object.keys(e).forEach(function(n){var i=e[n];if(a.iamLastParent(i))t(e,n,i);else{var s=r.slice(0);s.push(n),o(i,t,s)}})}},function(e,t){e.exports=require("immutable")},function(e,t){e.exports=require("faker")},function(e,t){e.exports=require("chance")},function(e,t){e.exports=require("babel-polyfill")}])});