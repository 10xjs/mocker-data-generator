!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("faker"),require("chance"),require("immutable"),require("babel-polyfill")):"function"==typeof define&&define.amd?define(["faker","chance","immutable","babel-polyfill"],t):"object"==typeof exports?exports.MockerData=t(require("faker"),require("chance"),require("immutable"),require("babel-polyfill")):e.MockerData=t(e.faker,e.chance,e.immutable,e["babel-polyfill"])}(this,function(__WEBPACK_EXTERNAL_MODULE_3__,__WEBPACK_EXTERNAL_MODULE_4__,__WEBPACK_EXTERNAL_MODULE_8__,__WEBPACK_EXTERNAL_MODULE_9__){return function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var a=r(1),i=n(a);r(9);var o=function(e){return new i["default"](e)};e.exports=o},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(2),u=a(s),c=r(5),l=n(c),f=r(6),h=n(f),p=r(7),v=a(p),d=r(8),b=r(3),m=r(4),y=new m,g=function(){function e(t){i(this,e),this.data={},this.entity={},this.initialData=null,this.path=[],this.virtual=!1,this.virtualPaths=[],this.entityOutputName="",this.entityName="",this.config=d.fromJS(t)}return o(e,[{key:"generate",value:function(e,t){var r=this,n=(0,l["default"])(e);return this.entityOutputName=n,this.entityName=e,this.data[n]=[],this.initialData={},new Promise(function(a,i){var o=function(){a(r.data)};try{Number.isInteger(t)?u.repeatFN(t,function(t){var n=r.config.toJS();u.iamLastParent(n[e])?r.generator(n[e],function(e){r.data[r.entityOutputName].push(e),t()}):r.generateEntity(n[e],function(e){r.data[r.entityOutputName].push(e),t()})},o):!function(){var n=r.config.toJS(),a=t.uniqueField,i=void 0;i="."===a?n[e].values:n[e][a].values;i.length;u.eachSeries(i,function(t,n){var i=r.config.toJS();return"."===a?(r.data[r.entityOutputName].push(t),n()):(i[e][a]={"static":t},void r.generateEntity(i[e],function(e){r.data[r.entityOutputName].push(e),n()}))},o)}()}catch(s){console.log("Exception: mocker-data-generator"),console.log("Error generating "+n+" : "+s),console.log(s.stack),i(s)}})}},{key:"generateEntity",value:function(e,t){var r=this;this.entity=Object.assign({},e);for(var n=function(e,t,n,a){return a&&(u.isArray(n)?n[0].virtual&&r.virtualPaths.push(a.toString()):n.virtual&&r.virtualPaths.push(a.toString())),new Promise(function(a,i){r.generator(n,function(n){if(u.isConditional(t)){var i=t.split(",");u.evalWithContextData(i[0],r.entity)?(e[i[1]]=n,delete e[t]):delete e[t]}else e[t]=n;a(n)})})},a=v.it(this.entity),i={done:!1,value:{obj:{},k:"",value:"",path:[]}};i.value&&(i=a.next(),i.value);){var o=i.value,s=o.obj,c=o.k,l=o.value,f=o.path;n(s,c,l,f).then()}this.virtualPaths.length>0?(0,h["default"])(this.virtualPaths,this.entity,{strict:!0,symbol:","}).then(t):t(this.entity)}},{key:"generator",value:function(e,t){if(u.isArray(e)){for(var r=e[0],n=[],a=u.fieldArrayCalcLength(r),i=0;a>i;i++)n.push(this.generateNormalField(r));t(n)}else t(this.generateNormalField(e))}},{key:"generateNormalField",value:function(e){var t=this.entity,r=this.data;if(e.faker)return u.stringToFn("faker",e.faker,r,t);if(e.chance)return u.stringToFn("chance",e.chance,r,t);if(e.values)return b.random.arrayElement(e.values);if(e["function"])return e["function"].call({object:t,faker:b,chance:y,db:r});if(e["static"])return e["static"];if(e.hasOwnProperty("incrementalId")){var n=0;return r[this.entityOutputName]&&r[this.entityOutputName].length&&(n=r[this.entityOutputName].length),e.incrementalId===!0&&(e.incrementalId=0),n+parseInt(e.incrementalId)}return null}}]),e}();t["default"]=g},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var faker=__webpack_require__(3),Chance=__webpack_require__(4),chance=new Chance,_Math=Math,floor=_Math.floor,_Object=Object,keys=_Object.keys,evalWithContextData=exports.evalWithContextData=function evalWithContextData(key,object){return eval(key)},fieldArrayCalcLength=exports.fieldArrayCalcLength=function(e){var t=void 0;return t=e.fixedLength?e.length:Math.floor(Math.random()*e.length+1)},stringToFn=exports.stringToFn=function stringToFn(moduleName,string,db,object){var re=/(^[a-zA-Z.]*)/,matches=re.exec(string),strFn=void 0;return matches&&2===matches.length&&(strFn=moduleName+"."+string),re=/\((.*?)\)/,matches=re.exec(string),matches||(strFn=moduleName+"."+string+"()"),eval(strFn)},iamLastParent=exports.iamLastParent=function(e){var t=!1;if(this.isObject(e))for(var r=Object.keys(e),n=0;n<r.length;n++){var a=r[n];if(t=this.iamLastChild(e,a),!t)break}else t=!0;return t},iamLastChild=exports.iamLastChild=function(e,t){return this.isObject(e[t])?!1:!0},isConditional=exports.isConditional=function(e){var t=e.split(",");return t.length>1?!0:!1},repeatFN=exports.repeatFN=function(e,t,r){var n=0,a=function i(){t(function(){n+=1,n>=e?r():n%2e3==0?setTimeout(i,0):i()})};a()},eachSeries=exports.eachSeries=function(e,t,r){if(r=r||function(){},!e.length)return r();var n=0,a=function i(){t(e[n],function(t){t?(r(t),r=function(){}):(n+=1,n>=e.length?r():i())})};a()},isArray=exports.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)?!0:!1},isObject=exports.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)?!0:!1},getKeys=exports.getKeys=function(e){var t=keys(e);return this.isArray(e)||(t=this.isArrayLike(e)?t.filter(function(e){return floor(Number(e))==e}):t.sort()),t},isArrayLike=exports.isArrayLike=function(e){if(!this.isObject(e))return!1;if(this.isGlobalObject(e))return!1;if(!("length"in e))return!1;var t=e.length;return 0===t?!0:t-1 in e},GLOBAL_OBJECT=new Function("return this")(),isGlobalObject=exports.isGlobalObject=function(e){return e===GLOBAL_OBJECT}},function(e,t){e.exports=require("faker")},function(e,t){e.exports=require("chance")},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t={"(quiz)$":"$1zes","^(ox)$":"$1en","([m|l])ouse$":"$1ice","(matr|vert|ind)ix|ex$":"$1ices","(x|ch|ss|sh)$":"$1es","([^aeiouy]|qu)y$":"$1ies","(hive)$":"$1s","(?:([^f])fe|([lr])f)$":"$1$2ves","(shea|lea|loa|thie)f$":"$1ves",sis$:"ses","([ti])um$":"$1a","(tomat|potat|ech|her|vet)o$":"$1oes","(bu)s$":"$1ses","(alias)$":"$1es","(octop)us$":"$1i","(ax|test)is$":"$1es","(us)$":"$1es",s$:"s"},r={move:"moves",foot:"feet",goose:"geese",sex:"sexes",child:"children",man:"men",tooth:"teeth",person:"people"},n=["sheep","fish","deer","series","species","money","rice","information","equipment"];if(n.indexOf(e.toLowerCase())>=0)return e;for(var a in r){var i=new RegExp(a+"$","i"),o=r[a];if(i.test(e))return e.replace(i,o)}var s=t;for(var u in s){var i=new RegExp(u,"i");if(i.test(e))return e.replace(i,s[u])}return e+"s"}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t,r){return new Promise(function(n){var a=regeneratorRuntime.mark(function v(e,t,r){var n,a,i,o;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(n=e.split(r.symbol),a=t,n&&0!==n.length){s.next=4;break}return s.abrupt("return");case 4:if(t){s.next=6;break}return s.abrupt("return");case 6:i=0;case 7:if(!(i<n.length)){s.next=19;break}if(o=n[i],i!==n.length-1||!a[o]){s.next=15;break}if(!(Object.getOwnPropertyNames(a[o]).length<1)){s.next=13;break}return delete a[o],s.abrupt("break",19);case 13:s.next=16;break;case 15:a=a[o];case 16:i++,s.next=7;break;case 19:if(n.pop(),!(n.length>0)){s.next=24;break}return s.delegateYield(v(n.join(r.symbol),t,r),"t0",22);case 22:s.next=25;break;case 24:return s.abrupt("return");case 25:case"end":return s.stop()}},v,this)}),i=regeneratorRuntime.mark(function d(e,t,r){var n,i,o,s;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:n=e.split(r.symbol),i=t,o=0;case 3:if(!(o<n.length)){u.next=14;break}if(s=n[o],o!==n.length-1){u.next=10;break}return delete i[s],u.delegateYield(a(e,t,r),"t0",8);case 8:u.next=11;break;case 10:i=i[s];case 11:o++,u.next=3;break;case 14:case"end":return u.stop()}},d,this)}),o=regeneratorRuntime.mark(function b(e,t,r){var n,a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:n=0;case 1:if(!(n<e.length)){o.next=7;break}return a=e[n],o.delegateYield(i(a,t,r),"t0",4);case 4:n++,o.next=1;break;case 7:case"end":return o.stop()}},b,this)}),s=o(e,t,r),u=!0,c=!1,l=void 0;try{for(var f,h=s[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){f.value}}catch(p){c=!0,l=p}finally{try{!u&&h["return"]&&h["return"]()}finally{if(c)throw l}}n(t)})}},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.it=void 0;var a=r(2),i=n(a);t.it=regeneratorRuntime.mark(function o(e,t){var r,n,a,s,u,c;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(e){l.next=2;break}return l.abrupt("return");case 2:t||(t=[]),r=Object.keys(e),n=0;case 5:if(!(n<r.length)){l.next=21;break}if(a=r[n],s=e[a],u=t.slice(0),u.push(a),!i.iamLastParent(s)){l.next=15;break}return l.next=13,{obj:e,k:a,value:s,path:u};case 13:l.next=18;break;case 15:return c=t.slice(0),c.push(a),l.delegateYield(o(s,c),"t0",18);case 18:n++,l.next=5;break;case 21:case"end":return l.stop()}},o,this)})},function(e,t){e.exports=require("immutable")},function(e,t){e.exports=require("babel-polyfill")}])});